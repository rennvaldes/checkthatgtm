"use client";

import { animated, useSpring } from "@react-spring/web";
import { useRef, useState, useEffect } from "react";
import { GridRoot } from "@/components/home/grid/gridRoot";
import { useIntersection } from "@/hooks/useIntersection";

// Constants for SVG coordinate system
const VIEWBOX_WIDTH = 120;
const PARENT_SCALE = 0.731;

// Photo scaling constants (Mike Matas pattern)
const SCALE_BREAK_WIDTH = 800; // Container width where scale = 1.0
const SCALE_MIN_WIDTH = 300; // Minimum container width
const MIN_SCALE = 0.5; // Never scale below 50%
const BASE_PHOTO_SIZE = 50; // Photo size at full scale

// Clamp helper
const clamp = (val: number, min: number, max: number) =>
  Math.max(min, Math.min(max, val));

// Photo marker as foreignObject inside SVG
// Uses inverse scaling to maintain consistent rendered size
// Animates with fade + scale when ready (SJA pattern)
function SVGPhotoMarker({
  image,
  name,
  x,
  y,
  inverseScale,
  photoSize,
  isReady,
  index,
}: {
  image: string;
  name: string;
  x: number;
  y: number;
  inverseScale: number;
  photoSize: number;
  isReady: boolean;
  index: number;
}) {
  // Size in SVG coords that will render at photoSize
  const svgSize = photoSize * inverseScale;

  // InView detection
  const [setRef, isInView] = useIntersection({ rootMargin: "100px" });

  // Trigger animation when both scale is stable AND element is in view
  const shouldAnimate = isReady && isInView;

  // Fade + scale animation with stagger (100ms between each)
  const spring = useSpring({
    opacity: shouldAnimate ? 1 : 0,
    scale: shouldAnimate ? 1 : 0,
    delay: shouldAnimate ? index * 100 : 0,
    config: {
      tension: 300,
      friction: 35,
    },
  });

  return (
    <foreignObject
      x={x - svgSize / 2}
      y={y - svgSize / 2}
      width={svgSize}
      height={svgSize}
      style={{ overflow: "visible" }}
    >
      <animated.div
        ref={setRef}
        className="w-full h-full rounded-full overflow-hidden"
        style={{
          ...spring,
          transformOrigin: "center center",
        }}
      >
        <img
          src={image}
          alt={name}
          className="object-cover w-full h-full"
        />
      </animated.div>
    </foreignObject>
  );
}

function AnimatedLottieEarth() {
  const svgRef = useRef<SVGSVGElement>(null);
  const [inverseScale, setInverseScale] = useState(1);
  const [photoSize, setPhotoSize] = useState(BASE_PHOTO_SIZE);
  const [isScaleReady, setIsScaleReady] = useState(false);

  // Calculate inverse scale and photo size based on rendered size
  useEffect(() => {
    const calculateScale = () => {
      if (svgRef.current) {
        const renderedWidth = svgRef.current.getBoundingClientRect().width;

        // Mike Matas scale pattern for photo sizing
        const rawScale = clamp(
          (renderedWidth - SCALE_MIN_WIDTH) / (SCALE_BREAK_WIDTH - SCALE_MIN_WIDTH),
          0,
          1
        );
        const scale = MIN_SCALE + (1 - MIN_SCALE) * rawScale;
        setPhotoSize(BASE_PHOTO_SIZE * scale);

        // Inverse scale for SVG coordinate conversion
        const totalScale = PARENT_SCALE * (renderedWidth / VIEWBOX_WIDTH);
        setInverseScale(1 / totalScale);

        // Mark scale as ready after first calculation
        setIsScaleReady(true);
      }
    };

    calculateScale();
    window.addEventListener("resize", calculateScale);
    return () => window.removeEventListener("resize", calculateScale);
  }, []);

  const styles = useSpring({
    from: { x: 342 },
    to: { x: 0 },
    loop: true,
    config: { duration: 30000, easing: (t: number) => t },
  });

  // Member positions in earth coordinate system (x: ~100-450, y: ~480-630)
  const members = [
    {
      name: "Bridget",
      image: "/images/avatars/avatar-bridget.webp",
      x: 15,
      y: 545,
    },
    {
      name: "Georgemaine",
      image: "/images/avatars/avatar-georgemaine.webp",
      x: 156,
      y: 528,
    },
    {
      name: "Hassan",
      image: "/images/avatars/avatar-hassan-rashid.webp",
      x: 235,
      y: 560,
    },
    { name: "Ben", image: "/images/avatars/avatar-ben.webp", x: 51.5, y: 531 },
    {
      name: "Renato",
      image: "/images/avatars/avatar-renato.webp",
      x: 159,
      y: 531,
    },
    {
      name: "Nicolas",
      image: "/images/avatars/avatar-nicolas.webp",
      x: 100,
      y: 630,
    },
    {
      name: "Valentina",
      image: "/images/avatars/avatar-valentina.webp",
      x: 70,
      y: 595,
    },
    {
      name: "Estevao",
      image: "/images/avatars/avatar-estevao.webp",
      x: 107,
      y: 622,
    },
    { name: "Jo", image: "/images/avatars/avatar-jo.webp", x: 144, y: 548 },
    {
      name: "Jacopo",
      image: "/images/avatars/avatar-jacopo.webp",
      x: 175,
      y: 548,
    },
    {
      name: "Danni",
      image: "/images/avatars/avatar-danni.webp",
      x: 152,
      y: 546,
    },
    { name: "Gaby", image: "/images/avatars/avatar-gaby.webp", x: 265, y: 505 },
    {
      name: "Aida",
      image: "/images/avatars/avatar-aida.webp",
      x: 186,
      y: 542,
    },
    {
      name: "Matthew",
      image: "/images/avatars/avatar-matthew.webp",
      x: 183,
      y: 627.5,
    },
    {
      name: "Saskia",
      image: "/images/avatars/avatar-saskia.webp",
      x: 186,
      y: 630,
    },
    // Duplicates offset by 342 for seamless loop
    {
      name: "Bridget",
      image: "/images/avatars/avatar-bridget.webp",
      x: 15 + 342,
      y: 545,
    },
    {
      name: "Ben",
      image: "/images/avatars/avatar-ben.webp",
      x: 51.5 + 342,
      y: 531,
    },
    {
      name: "Nicolas",
      image: "/images/avatars/avatar-nicolas.webp",
      x: 100 + 342,
      y: 630,
    },
    {
      name: "Valentina",
      image: "/images/avatars/avatar-valentina.webp",
      x: 70 + 342,
      y: 595,
    },
    {
      name: "Estevao",
      image: "/images/avatars/avatar-estevao.webp",
      x: 107 + 342,
      y: 622,
    },
    {
      name: "Matthew",
      image: "/images/avatars/avatar-matthew.webp",
      x: 183 + 342,
      y: 627.5,
    },
    {
      name: "Saskia",
      image: "/images/avatars/avatar-saskia.webp",
      x: 186 + 342,
      y: 630,
    },
  ];

  return (
    <svg
      ref={svgRef}
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 119 120"
      className="w-full h-full"
      preserveAspectRatio="xMidYMid meet"
    >
      <g transform="matrix(0.731,0,0,0.731,-236.84,-363.41)" opacity="1">
        <animated.g
          opacity="1"
          transform={styles.x.to((x) => `matrix(1,0,0,1,${x},0)`)}
        >
          <LottieEarthPaths />
          {/* Member photos inside animated group */}
          {members.map((member, index) => (
            <SVGPhotoMarker
              key={`${member.name}-${index}`}
              image={member.image}
              name={member.name}
              x={member.x}
              y={member.y}
              inverseScale={inverseScale}
              photoSize={photoSize}
              isReady={isScaleReady}
              index={index}
            />
          ))}
        </animated.g>
      </g>
    </svg>
  );
}

// Earth paths extracted from Lottie (green fill rgb(0,217,89))
function LottieEarthPaths() {
  return (
    <>
      {/* First copy of earth continents */}
      <g opacity="1" transform="matrix(1,0,0,1,291.758,495.358)">
        <path
          fill="#E6E3DE"
          fillOpacity="1"
          d="M0.134,0.148 C0.021,-0.039 0.022,-0.039 -0.135,-0.148 C0.022,-0.039 0.021,-0.039 0.135,0.148 C0.135,0.148 0.135,0.148 0.134,0.148z"
        />
      </g>
      <g opacity="1" transform="matrix(1,0,0,1,116.612,502.159)">
        <path
          fill="#E6E3DE"
          fillOpacity="1"
          d="M13.701,-16.744 C11.278,-17.566 10.968,-20.514 8.895,-21.701 C8.562,-21.858 8.21,-21.975 7.85,-22.069 C7.132,-22.258 6.385,-22.36 5.632,-22.388 C3.13,-22.479 0.654,-21.802 -1.686,-20.986 C-4.514,-20 -7.236,-18.733 -9.822,-17.225 C-10.13,-17.045 -10.165,-17.04 -10.654,-16.729 C-14.079,-14.866 -17.329,-11.781 -16.327,-7.452 C-15.818,-5.254 -14.016,-4.122 -12.374,-2.802 C-10.519,-1.311 -9.883,0.715 -9.949,3.045 C-10.01,5.184 -10.674,7.235 -11.137,9.309 C-11.621,11.48 -12.126,12.853 -12.285,15.074 C-12.391,16.549 -12.722,18.17 -10.827,19.269 C-10.13,19.673 -9.159,20.296 -8.598,20.801 C-7.984,21.354 -7.86,21.498 -7.533,21.756 C-7.129,22.075 -6.691,22.313 -6.167,22.345 C-3.931,22.479 -3.089,19.826 -2.253,18.288 C-1.268,16.473 0.471,15.341 2.199,14.31 C5.678,12.235 8.811,10.266 10.482,6.4 C12.112,2.628 12.299,-1.529 13.15,-5.503 C13.575,-7.485 14.158,-9.445 15.229,-11.181 C15.449,-11.538 15.692,-11.912 15.926,-12.299 C16.16,-12.686 16.383,-13.086 16.553,-13.488 C17.329,-14.774 16.242,-15.86 15.212,-16.265 C14.721,-16.435 14.2,-16.585 13.701,-16.744z"
        />
      </g>
      <g opacity="1" transform="matrix(1,0,0,1,62.632,581.946)">
        <path
          fill="#E6E3DE"
          fillOpacity="1"
          d="M55.64,21.532 C53.734,19.34 51.143,18.704 49.904,15.543 C49.481,14.464 48.828,13.46 48.201,12.475 C47.548,11.452 46.807,10.639 45.948,10.066 C44.683,9.094 43.138,8.698 41.147,9.102 C40.149,9.305 38.984,8.639 37.887,8.41 C35.1,7.825 33.084,6.313 31.522,3.881 C31.034,3.123 29.481,2.801 28.384,2.725 C24.371,2.448 20.494,1.747 16.764,0.16 C15.852,-0.229 14.574,-0.34 13.66,-0.02 C11.958,0.576 10.421,1.626 8.771,2.391 C8.253,2.631 7.519,2.776 7.01,2.599 C4.971,1.893 2.993,1.01 0.969,0.257 C-0.323,-0.224 -1.02,-0.94 -1.139,-2.447 C-1.367,-5.307 -2.66,-7.498 -5.618,-8.446 C-6.017,-8.575 -6.219,-9.368 -6.468,-9.873 C-6.524,-9.986 -6.389,-10.187 -6.356,-10.35 C-5.832,-12.942 -6.489,-14.817 -8.252,-15.769 C-9.976,-16.699 -12.248,-16.182 -13.933,-14.494 C-14.595,-13.832 -15.234,-12.79 -15.984,-12.694 C-16.524,-12.623 -17.162,-13.922 -17.878,-14.443 C-19.014,-15.267 -20.191,-16.089 -21.462,-16.66 C-23.109,-17.398 -23.933,-18.628 -23.38,-20.223 C-22.378,-23.115 -21.146,-25.937 -19.832,-28.704 C-19.207,-30.019 -18.121,-29.348 -17.306,-28.73 C-16.384,-28.032 -15.629,-27.071 -14.642,-26.507 C-11.906,-24.946 -9.815,-25.572 -8.071,-28.203 C-7.745,-28.696 -7.131,-29.318 -6.663,-29.308 C-6.246,-29.299 -5.718,-28.56 -5.461,-28.033 C-4.62,-26.317 -3.873,-24.553 -3.107,-22.801 C-2.156,-20.626 -0.527,-19.656 1.375,-20.153 C3.319,-20.661 4.366,-22.256 4.056,-24.608 C3.895,-25.826 3.496,-27.048 2.999,-28.177 C2.518,-29.27 2.578,-29.88 3.667,-30.602 C6.729,-32.635 8.459,-35.397 7.906,-39.273 C7.827,-39.828 8.034,-40.691 8.431,-41.005 C11.265,-43.255 14.284,-45.064 18.125,-45.025 C19.507,-45.012 20.93,-45.395 22.272,-45.802 C24.244,-46.4 26.074,-47.268 28.294,-46.991 C29.969,-46.781 31.285,-48.176 31.627,-49.798 C32.002,-51.583 31.141,-53.386 29.24,-54.297 C28.158,-54.814 26.52,-54.681 25.883,-55.457 C25.351,-56.105 25.935,-57.647 25.97,-58.796 C25.984,-59.265 26.112,-61.64 25.265,-63.845 C25.115,-64.236 24.885,-64.571 24.596,-64.874 C24.342,-65.14 24.037,-65.434 23.696,-65.578 C23.179,-65.796 22.602,-65.5 22.447,-64.964 C22.326,-64.549 22.506,-64.209 22.564,-63.801 C22.631,-63.331 22.672,-62.551 22.018,-62.272 C19.11,-61.091 16.674,-61.757 14.268,-62.415 C13.632,-62.589 12.944,-63.023 12.561,-63.544 C12.406,-63.757 12.314,-64.016 12.239,-64.287 C12.234,-64.401 12.233,-64.515 12.238,-64.629 C12.284,-64.82 12.337,-65.009 12.383,-65.202 C12.465,-65.544 12.524,-65.902 12.516,-66.254 C12.504,-66.836 12.377,-67.229 12.124,-67.741 C11.764,-68.473 11.049,-68.992 10.284,-69.229 C9.803,-69.377 9.187,-69.352 8.709,-69.219 C8.136,-69.06 7.798,-68.801 7.347,-68.431 C7.136,-68.257 6.95,-68.052 6.778,-67.84 C6.494,-67.491 6.205,-67.128 5.978,-66.736 C5.611,-66.102 5.318,-65.388 5.172,-64.668 C5.13,-64.463 4.882,-63.503 4.806,-63.227 C3.794,-59.543 2.635,-58.674 -0.766,-60.318 C-2.528,-61.169 -4.177,-62.715 -5.318,-64.37 L-5.43,-64.647 C-5.551,-64.819 -6.039,-65.918 -6.164,-66.416 C-6.189,-67.2 -5.902,-68.108 -4.879,-68.245 C-4.716,-68.247 -4.554,-68.239 -4.391,-68.244 C-3.416,-68.271 -2.382,-68.276 -1.523,-68.805 C-0.471,-69.453 0.224,-70.736 0.095,-71.984 C0.065,-72.274 0.016,-72.544 -0.051,-72.808 C-0.169,-73.745 -0.862,-74.585 -1.32,-75.455 C-2.154,-77.041 -2.207,-78.977 -3.627,-80.291 C-4.171,-80.795 -4.928,-81.07 -5.651,-80.908 C-7.183,-80.564 -7.347,-78.901 -7.998,-77.685 C-9.754,-74.399 -14.558,-74.312 -17.902,-74.8 C-18.074,-75.028 -18.238,-75.263 -18.408,-75.456 C-19.291,-76.457 -20.356,-77.303 -21.624,-77.755 C-23.939,-78.58 -26.623,-78.138 -29.105,-77.747 C-29.342,-77.768 -29.579,-77.796 -29.815,-77.822 C-30.887,-77.982 -31.946,-78.206 -32.989,-78.502 C-33.896,-78.947 -34.793,-79.42 -35.688,-79.884 C-39.008,-81.606 -42.378,-83.015 -46.181,-83.027 C-48.309,-83.033 -50.435,-82.689 -52.515,-82.272 C-54.105,-81.953 -56.126,-81.734 -57.346,-80.528 C-58.478,-79.411 -58.187,-77.927 -57.042,-76.966 C-56.384,-76.413 -55.62,-76.239 -55.732,-75.226 C-55.738,-75.17 -55.763,-75.123 -55.772,-75.069 C-56.323,-73.792 -57.342,-72.898 -58.425,-72.079 C-58.65,-71.909 -58.996,-71.541 -59.322,-71.23 C-60.038,-70.401 -60.663,-69.452 -61.22,-68.535 C-61.561,-67.975 -62.051,-67.34 -62.211,-66.449 C-62.339,-65.735 -62.382,-64.969 -62.149,-64.266 C-62.023,-63.888 -61.817,-63.58 -61.588,-63.259 C-61.381,-62.967 -61.218,-62.653 -61.059,-62.334 C-60.734,-61.682 -60.384,-61.061 -59.767,-60.643 C-59.627,-60.548 -58.913,-60.094 -58.618,-60.093 C-56.218,-60.089 -55.835,-61.732 -53.407,-61.778 C-50.882,-61.826 -48.245,-59.589 -47.669,-57.2 C-47.334,-55.812 -47.509,-54.358 -47.686,-52.941 C-48.391,-47.286 -48.712,-42.116 -48.814,-36.407 L-48.799,-36.145 C-48.818,-34.934 -48.819,-33.718 -48.801,-32.449 C-48.756,-29.231 -47.973,-26.021 -47.495,-22.811 C-47.434,-22.408 -47.255,-22.016 -47.094,-21.635 C-46.071,-19.233 -44.249,-18.128 -42.26,-18.69 C-40.128,-19.293 -39.329,-21.189 -39.811,-23.952 C-40.407,-27.369 -40.847,-30.813 -41.41,-34.627 C-40.76,-34.228 -40.544,-34.174 -40.51,-34.063 C-39.309,-30.183 -37.884,-26.351 -37.004,-22.398 C-35.892,-17.408 -32.857,-14.209 -28.607,-11.806 C-27.318,-11.077 -26.042,-10.212 -25.011,-9.165 C-22.505,-6.623 -19.416,-5.249 -16.044,-4.519 C-14.6,-4.206 -13.398,-3.783 -12.328,-2.737 C-11.698,-2.122 -10.719,-1.882 -9.984,-1.353 C-9.49,-0.998 -8.872,-0.48 -8.784,0.044 C-8.063,4.314 -5.182,6.361 -1.392,7.662 C3.088,9.199 3.118,9.277 1.28,13.627 C-0.457,17.737 -1.374,21.851 -1.282,26.001 L-1.296,26.115 C-1.258,29.27 -0.773,32.397 0.571,35.586 C3.412,42.322 9.168,43.549 10.583,47.323 C11.419,49.552 10.982,55.48 11.198,57.852 C11.229,58.604 11.673,66.022 12.114,68.152 C12.837,71.643 14.449,75.655 16.841,78.305 C17.884,79.461 19.324,80.675 20.68,81.441 C21.489,81.897 24.573,83.033 25.464,82.599 C25.608,82.528 25.732,82.451 25.836,82.369 C27.085,81.382 25.722,79.557 25.267,78.173 C24.309,75.256 25.733,72.113 27.393,69.531 C30.776,64.269 35.272,59.78 38.528,54.438 C40.047,51.947 41.908,49.734 44.181,46.717 C46.604,43.502 49.683,42.326 52.823,37.704 C56.801,31.849 62.382,26.272 55.816,21.752 C55.798,21.739 55.66,21.542 55.64,21.532z M23.656,-64.631 C23.656,-64.631 23.656,-64.631 23.656,-64.631 C23.656,-64.669 23.656,-64.678 23.656,-64.631z"
        />
      </g>
      <g opacity="1" transform="matrix(1,0,0,1,230.303,564.507)">
        <path
          fill="#E6E3DE"
          fillOpacity="1"
          d="M82.389,-47.045 C82.529,-47.435 82.717,-47.803 82.941,-48.152 C84.238,-51.52 89.358,-54.469 86.894,-58.226 C86.771,-58.705 86.803,-59.174 86.931,-59.636 C87.444,-61.485 89.514,-63.21 89.514,-64.865 C89.514,-69.054 76.246,-74.922 67.936,-74.922 C61.59,-74.922 60.549,-67.224 48.733,-71.56 C40.802,-74.47 33.846,-65.161 22.452,-66.956 C15.915,-67.987 10.645,-74.855 2.012,-72.443 C-2.494,-71.184 -6.64,-68.568 -10.242,-65.586 C-10.643,-65.254 -11.036,-64.918 -11.423,-64.58 C-12.734,-63.158 -11.337,-61.451 -11.337,-60.055 C-11.182,-56.952 -15.217,-58.503 -17.342,-58.494 C-17.728,-58.495 -18.096,-58.465 -18.452,-58.411 C-19.517,-58.249 -20.458,-57.853 -21.35,-57.297 C-21.746,-57.05 -22.134,-56.772 -22.516,-56.469 C-23.832,-54.926 -25.574,-54.736 -27.312,-55.172 C-27.746,-55.28 -28.181,-55.428 -28.608,-55.604 C-31.508,-56.797 -32.905,-59.744 -35.542,-61.295 C-38.335,-63.002 -41.438,-61.45 -44.201,-60.906 C-44.67,-60.788 -45.147,-60.66 -45.625,-60.523 C-50.127,-59.123 -54.005,-56.486 -58.411,-54.714 C-58.906,-54.441 -59.388,-54.163 -59.865,-53.877 C-61.291,-53.019 -62.678,-52.097 -64,-51.081 C-64.339,-50.732 -64.643,-50.383 -64.908,-50.032 C-65.704,-48.981 -66.157,-47.928 -66.157,-46.901 C-66.157,-44.695 -63.341,-42.935 -61.143,-42.677 C-59.979,-42.521 -58.816,-42.6 -57.697,-42.849 C-57.324,-42.933 -56.955,-43.035 -56.594,-43.154 C-54.16,-43.919 -52.144,-45.935 -49.433,-46.159 C-49.093,-46.207 -48.762,-46.209 -48.435,-46.181 C-48.109,-46.153 -47.786,-46.095 -47.467,-46.021 C-47.147,-45.947 -46.829,-45.856 -46.51,-45.759 C-44.385,-44.538 -43.766,-43.607 -45.628,-42.385 C-48.757,-40.693 -51.094,-36.079 -57.98,-37.427 C-65.281,-38.855 -70.749,-38.834 -75.997,-36.552 C-76.474,-36.344 -76.95,-36.118 -77.426,-35.871 C-79.916,-34.453 -82.553,-33.212 -84.105,-30.574 C-85.812,-27.471 -82.398,-26.385 -80.536,-24.834 C-79.14,-23.748 -82.805,-22.863 -84.059,-22.255 C-88.992,-19.86 -88.992,-15.175 -87.829,-13.042 C-85.346,-8.698 -78.676,-10.405 -75.617,-13.555 C-75.291,-13.937 -71.538,-17.386 -69.9,-18.534 C-69.572,-18.783 -69.241,-19.026 -68.906,-19.261 C-68.489,-19.523 -68.066,-19.759 -67.637,-19.956 C-67.209,-20.152 -66.775,-20.309 -66.337,-20.417 C-65.899,-20.525 -65.455,-20.584 -65.008,-20.581 C-61.142,-20.18 -58.66,-17.076 -57.139,-13.816 C-56.966,-13.533 -56.792,-13.25 -56.615,-12.966 C-56.371,-12.615 -56.118,-12.276 -55.861,-11.974 C-55.089,-11.069 -54.4,-10.751 -53.599,-10.956 C-52.768,-11.168 -52.268,-11.771 -51.995,-12.553 C-51.859,-12.944 -51.78,-13.38 -51.745,-13.833 C-51.708,-14.348 -51.708,-14.855 -51.737,-15.349 C-51.834,-17.387 -53.385,-19.714 -52.765,-21.11 C-51.523,-24.058 -48.419,-19.87 -46.829,-18.237 C-46.536,-17.973 -46.227,-17.718 -45.895,-17.483 C-45.53,-17.278 -45.145,-17.11 -44.734,-16.987 C-41.904,-16.301 -38.18,-16.922 -37.559,-20.18 C-36.939,-23.128 -36.628,-27.782 -32.577,-26.737 C-32.105,-26.699 -31.645,-26.649 -31.224,-26.633 C-30.849,-26.576 -30.493,-26.5 -30.168,-26.415 C-28.712,-26.034 -27.48,-25.186 -26.262,-24.328 C-25.918,-24.085 -25.599,-23.864 -25.299,-23.649 C-23.594,-22.351 -20.958,-20.489 -22.044,-18.162 C-22.199,-17.813 -22.451,-17.58 -22.763,-17.431 C-23.074,-17.282 -23.445,-17.217 -23.835,-17.204 C-24.312,-17.209 -24.779,-17.26 -25.241,-17.342 C-27.361,-17.896 -29.33,-18.743 -31.454,-18.74 C-31.879,-18.74 -32.31,-18.706 -32.75,-18.628 C-34.301,-18.318 -35.852,-17.386 -36.518,-15.858 C-36.65,-15.527 -36.705,-15.185 -36.654,-14.842 C-36.603,-14.499 -36.447,-14.154 -36.163,-13.818 C-33.991,-11.025 -27.474,-12.266 -28.021,-7.424 C-28.102,-6.806 -28.347,-6.229 -28.704,-5.732 C-29.062,-5.236 -29.536,-4.82 -30.052,-4.534 C-32.651,-3.158 -35.25,-4.991 -37.908,-5.134 C-38.282,-5.196 -38.655,-5.256 -39.029,-5.31 C-40.525,-5.53 -42.025,-5.69 -43.51,-5.81 C-43.952,-5.846 -44.392,-5.871 -44.831,-5.889 C-48.094,-5.909 -51.305,-5.603 -54.543,-5.649 C-54.956,-5.708 -55.357,-5.832 -55.739,-6.062 C-58.339,-7.897 -58.949,-11.872 -62.508,-12.312 C-62.828,-12.303 -63.151,-12.247 -63.471,-12.138 C-63.958,-12.007 -64.437,-11.8 -64.903,-11.547 C-66.3,-10.789 -67.594,-9.605 -68.753,-8.716 C-70.011,-7.75 -71.287,-6.797 -72.682,-6.036 C-73.531,-5.573 -74.442,-5.239 -75.366,-4.953 C-78.55,-3.97 -81.419,-2.809 -83.418,-0.108 C-86.907,4.604 -89.514,10.965 -88.903,16.911 C-88.294,22.834 -84.53,27.651 -79.107,30.013 C-76.495,31.15 -73.713,31.769 -70.859,31.851 C-59.248,32.184 -56.91,45.664 -56.376,55.122 C-56.162,58.928 -54.895,62.673 -53.465,66.21 C-52.177,69.399 -50.27,73.621 -46.592,74.586 C-45.312,74.922 -43.956,74.901 -42.594,74.651 C-42.14,74.568 -41.685,74.459 -41.232,74.33 C-38.18,73.69 -35.697,71.673 -33.975,69.025 C-33.652,68.607 -30.785,64.698 -29.909,63.659 C-29.617,63.313 -29.318,62.974 -29.014,62.637 C-27.545,60.949 -26.074,59.25 -24.73,57.445 C-24.394,56.994 -24.066,56.537 -23.751,56.068 C-21.268,52.589 -20.958,48.245 -19.533,44.331 C-19.328,43.883 -19.082,43.446 -18.803,43.026 C-18.525,42.605 -18.216,42.2 -17.882,41.812 C-17.548,41.424 -17.191,41.052 -16.82,40.7 C-16.07,39.987 -15.265,39.327 -14.454,38.676 C-14.048,38.351 -13.641,38.028 -13.238,37.703 C-11.027,35.832 -8.39,33.815 -8.005,30.755 C-7.912,30.141 -7.902,29.516 -7.988,28.896 C-8.075,28.275 -8.257,27.659 -8.549,27.062 C-8.693,26.74 -8.851,26.424 -9.023,26.12 C-9.237,25.74 -9.476,25.378 -9.74,25.039 C-11.648,22.643 -14.751,22.643 -17.234,21.557 C-18.32,21.091 -19.096,20.317 -19.999,19.71 C-20.493,19.305 -20.935,18.86 -21.294,18.359 C-21.615,18.02 -21.931,17.675 -22.237,17.322 C-23.77,15.553 -25.095,13.594 -26.042,11.44 C-26.152,11.006 -26.286,10.519 -26.422,10.004 C-27.104,7.43 -27.836,4.155 -25.768,3.249 C-24.061,2.629 -22.664,5.111 -22.307,6.909 C-22.045,7.462 -21.783,8.022 -21.52,8.586 C-21.257,9.149 -20.993,9.717 -20.723,10.283 C-20.544,10.66 -20.362,11.036 -20.176,11.411 C-19.276,13.014 -18.694,14.897 -17.592,16.403 C-17.372,16.704 -17.131,16.99 -16.863,17.255 C-16.195,17.933 -15.434,18.582 -14.594,19.104 C-14.314,19.278 -14.025,19.438 -13.728,19.58 C-13.363,19.803 -12.982,19.951 -12.592,20.044 C-12.202,20.136 -11.802,20.174 -11.398,20.177 C-9.011,20.161 -6.683,19.385 -4.671,18.016 C-4.232,17.717 -3.809,17.395 -3.406,17.051 C-2.802,16.535 -2.241,15.97 -1.738,15.372 C-1.487,15.073 -1.25,14.766 -1.029,14.45 C0.919,12.248 -0.632,8.525 -3.473,8.115 C-3.845,8.032 -4.227,7.989 -4.607,8.01 C-4.987,8.031 -5.363,8.115 -5.725,8.276 C-5.855,8.29 -5.985,8.309 -6.113,8.32 C-6.555,8.357 -7.001,8.389 -7.445,8.372 C-8.118,8.346 -8.691,8.241 -9.161,7.723 C-10.479,6.323 -11.337,4.555 -11.716,2.711 C-12.082,0.926 -11.855,-1.515 -8.445,0.299 C-7,1.068 -5.656,2.007 -4.23,2.814 C-3.945,2.975 -3.655,3.127 -3.357,3.266 C-1.253,4.491 1.385,4.956 3.867,4.336 C7.591,3.405 11.159,6.508 11.296,10.208 C11.451,10.737 11.592,11.283 11.719,11.838 C12.357,14.611 12.675,17.591 13.314,19.745 C13.436,20.205 13.561,20.666 13.688,21.125 C14.163,22.847 14.584,24.629 15.276,26.279 C15.663,27.2 16.368,28.17 17.236,28.794 C17.585,29.201 18.02,29.528 18.585,29.708 C19.952,30.145 21.298,29.606 22.191,28.525 C23.662,26.745 24.566,24.606 25.184,22.396 C25.669,20.663 26.022,18.894 26.407,17.135 C26.484,16.783 26.563,16.432 26.644,16.081 C26.986,14.886 27.14,13.8 27.761,12.714 C28.382,11.783 29.624,11.473 30.245,12.404 C31.796,14.731 32.106,17.369 33.425,19.737 C33.673,20.197 33.938,20.645 34.222,21.08 C36.207,24.123 39.033,26.536 42.267,28.205 C42.729,28.444 43.2,28.667 43.678,28.875 C47.312,30.712 54.603,31.952 54.603,26.677 C54.587,26.211 54.575,25.745 54.568,25.278 C54.561,24.81 54.559,24.342 54.563,23.875 C54.448,19.696 55.38,15.507 57.889,12.141 C58.096,11.813 58.292,11.484 58.48,11.15 C59.045,10.151 59.54,9.114 59.949,8 C60.521,6.443 60.906,4.719 60.762,3.052 C60.616,1.366 60.349,0.844 60.295,-0.703 C60.277,-1.252 60.287,-1.802 60.332,-2.349 C60.341,-2.457 60.375,-2.705 60.386,-2.799 C60.432,-3.071 60.48,-3.344 60.54,-3.615 C60.823,-4.881 61.254,-6.109 61.723,-7.318 C63.283,-11.348 65.124,-15.274 66.784,-19.264 C68.704,-23.881 72.401,-31.311 68.803,-35.833 C68.476,-36.245 68.088,-36.632 67.634,-36.992 C65.154,-39.108 62.05,-40.815 60.405,-43.79 C60.234,-44.12 60.087,-44.46 59.965,-44.808 C59.598,-45.854 59.454,-46.976 59.563,-48.151 C59.565,-48.159 59.572,-48.164 59.574,-48.172 C59.605,-48.322 59.643,-48.475 59.683,-48.628 C59.811,-48.987 59.957,-49.337 60.16,-49.661 C60.532,-50.049 60.94,-50.355 61.376,-50.595 C64.843,-52.296 69.498,-51.676 72.136,-48.883 C73.842,-46.866 74.463,-44.383 75.272,-41.945 C75.433,-41.428 75.583,-40.908 75.725,-40.389 C75.867,-39.869 76.002,-39.351 76.132,-38.836 C76.213,-38.391 76.297,-37.925 76.423,-37.479 C76.675,-36.587 77.101,-35.772 77.876,-35.229 C79.583,-33.833 81.756,-35.539 82.222,-37.556 C82.299,-37.918 82.354,-38.276 82.394,-38.63 C82.434,-38.984 82.459,-39.334 82.472,-39.681 C82.377,-40.97 82.109,-46.264 82.389,-47.045z"
        />
      </g>
      <g opacity="1" transform="matrix(1,0,0,1,309.011,627.314)">
        <path
          fill="#E6E3DE"
          fillOpacity="1"
          d="M26.681,-2.882 C25.678,-6.248 23.576,-8.861 21.497,-11.618 C20.79,-12.556 20.016,-13.63 19.131,-14.552 C18.836,-14.86 18.529,-15.15 18.22,-15.419 C16.37,-17.83 13.423,-16.434 11.25,-17.52 C9.388,-18.606 7.527,-20.468 5.123,-20.175 C4.668,-20.113 4.24,-19.978 3.832,-19.787 C3.016,-19.405 2.282,-18.798 1.65,-18.126 C1.552,-18.022 1.478,-17.914 1.402,-17.806 C1.093,-17.599 0.814,-17.336 0.589,-17.016 C-0.682,-15.206 -2.956,-14.068 -4.871,-13.069 C-6.786,-12.07 -8.777,-11.218 -10.752,-10.345 C-14.878,-8.52 -19.089,-6.682 -22.594,-3.783 C-26.596,-0.475 -27.98,4.69 -26.473,9.663 C-25.714,12.169 -23.962,15.163 -21.212,15.762 C-19.777,16.074 -18.347,15.774 -16.94,15.467 C-15.347,15.119 -13.756,14.766 -12.163,14.415 C-8.978,13.714 -5.793,13.013 -2.608,12.312 C-1.23,12.009 0.156,11.659 1.569,11.566 C2.832,11.483 3.73,11.465 4.565,12.037 C5.984,13.01 7.259,14.956 8.522,16.349 C10.12,18.112 12.051,19.382 14.406,19.88 C17.181,20.468 20.111,20.168 22.646,18.866 C24.895,17.711 25.947,15.636 26.747,13.334 C27.542,11.044 27.981,8.653 27.917,6.224 C27.836,3.205 27.546,0.021 26.681,-2.882z"
        />
      </g>
      <g opacity="1" transform="matrix(1,0,0,1,291.758,495.625)">
        <path
          fill="#E6E3DE"
          fillOpacity="1"
          d="M0.134,0.148 C0.021,-0.039 0.022,-0.039 -0.135,-0.148 C0.022,-0.039 0.021,-0.039 0.135,0.148 C0.135,0.148 0.135,0.148 0.134,0.148z"
        />
      </g>
      {/* Second copy of earth at +20 offset for seamless wrapping */}
      <g opacity="1" transform="matrix(1,0,0,1,20,0)">
        <g opacity="1" transform="matrix(1,0,0,1,438.398,502.426)">
          <path
            fill="#E6E3DE"
            fillOpacity="1"
            d="M13.701,-16.743 C11.278,-17.565 10.967,-20.513 8.894,-21.7 C8.561,-21.857 8.21,-21.975 7.85,-22.069 C7.132,-22.258 6.384,-22.359 5.631,-22.387 C3.129,-22.479 0.653,-21.802 -1.687,-20.986 C-4.515,-20 -7.237,-18.733 -9.823,-17.225 C-10.131,-17.045 -10.166,-17.039 -10.655,-16.728 C-14.08,-14.865 -17.329,-11.781 -16.327,-7.452 C-15.818,-5.254 -14.017,-4.121 -12.375,-2.801 C-10.52,-1.31 -9.884,0.716 -9.95,3.046 C-10.011,5.185 -10.675,7.236 -11.138,9.31 C-11.622,11.48 -12.126,12.852 -12.285,15.074 C-12.391,16.549 -12.722,18.171 -10.827,19.27 C-10.13,19.674 -9.159,20.296 -8.598,20.801 C-7.984,21.354 -7.861,21.499 -7.534,21.757 C-7.13,22.076 -6.691,22.313 -6.167,22.345 C-3.931,22.479 -3.09,19.827 -2.254,18.289 C-1.269,16.474 0.472,15.342 2.201,14.311 C5.679,12.236 8.811,10.266 10.482,6.4 C12.112,2.628 12.3,-1.528 13.151,-5.502 C13.576,-7.484 14.158,-9.445 15.229,-11.181 C15.449,-11.538 15.693,-11.911 15.927,-12.298 C16.161,-12.685 16.382,-13.086 16.552,-13.488 C17.328,-14.774 16.242,-15.859 15.212,-16.264 C14.721,-16.434 14.2,-16.584 13.701,-16.743z"
          />
        </g>
        <g opacity="1" transform="matrix(1,0,0,1,384.418,582.212)">
          <path
            fill="#E6E3DE"
            fillOpacity="1"
            d="M55.64,21.532 C53.734,19.34 51.143,18.704 49.904,15.543 C49.481,14.464 48.828,13.46 48.201,12.475 C47.549,11.452 46.807,10.639 45.948,10.066 C44.683,9.094 43.138,8.698 41.147,9.102 C40.149,9.305 38.984,8.639 37.887,8.41 C35.1,7.825 33.084,6.313 31.522,3.881 C31.034,3.123 29.481,2.801 28.384,2.725 C24.371,2.448 20.494,1.747 16.764,0.16 C15.852,-0.229 14.574,-0.34 13.66,-0.02 C11.958,0.576 10.421,1.626 8.771,2.391 C8.253,2.631 7.519,2.776 7.01,2.599 C4.971,1.893 2.993,1.01 0.969,0.257 C-0.323,-0.224 -1.02,-0.94 -1.139,-2.447 C-1.367,-5.307 -2.66,-7.498 -5.618,-8.446 C-6.017,-8.575 -6.219,-9.368 -6.468,-9.873 C-6.524,-9.986 -6.389,-10.187 -6.356,-10.35 C-5.832,-12.942 -6.489,-14.817 -8.252,-15.769 C-9.976,-16.699 -12.248,-16.182 -13.933,-14.494 C-14.595,-13.832 -15.234,-12.79 -15.984,-12.694 C-16.524,-12.623 -17.162,-13.922 -17.878,-14.443 C-19.014,-15.267 -20.191,-16.089 -21.462,-16.66 C-23.109,-17.398 -23.933,-18.628 -23.38,-20.223 C-22.378,-23.115 -21.146,-25.938 -19.831,-28.704 C-19.207,-30.019 -18.121,-29.348 -17.306,-28.73 C-16.384,-28.032 -15.629,-27.071 -14.642,-26.507 C-11.906,-24.946 -9.815,-25.572 -8.071,-28.203 C-7.744,-28.696 -7.131,-29.318 -6.663,-29.308 C-6.246,-29.299 -5.718,-28.56 -5.461,-28.033 C-4.62,-26.317 -3.873,-24.553 -3.107,-22.801 C-2.156,-20.626 -0.527,-19.656 1.375,-20.153 C3.319,-20.661 4.366,-22.256 4.056,-24.608 C3.895,-25.826 3.496,-27.048 2.999,-28.177 C2.518,-29.27 2.578,-29.88 3.667,-30.602 C6.729,-32.635 8.459,-35.397 7.906,-39.273 C7.827,-39.828 8.035,-40.691 8.431,-41.005 C11.265,-43.255 14.284,-45.064 18.125,-45.025 C19.507,-45.012 20.93,-45.395 22.272,-45.802 C24.244,-46.4 26.074,-47.268 28.294,-46.991 C29.969,-46.781 31.285,-48.176 31.627,-49.798 C32.002,-51.583 31.141,-53.386 29.24,-54.297 C28.158,-54.814 26.52,-54.681 25.883,-55.457 C25.351,-56.105 25.935,-57.647 25.97,-58.796 C25.984,-59.265 26.112,-61.64 25.265,-63.845 C25.115,-64.236 24.885,-64.571 24.596,-64.874 C24.342,-65.14 24.037,-65.434 23.696,-65.578 C23.179,-65.796 22.602,-65.5 22.447,-64.964 C22.326,-64.549 22.506,-64.209 22.564,-63.801 C22.631,-63.331 22.672,-62.551 22.018,-62.272 C19.11,-61.091 16.674,-61.757 14.268,-62.415 C13.632,-62.589 12.944,-63.023 12.561,-63.544 C12.406,-63.757 12.314,-64.016 12.239,-64.287 C12.234,-64.401 12.233,-64.515 12.238,-64.629 C12.284,-64.82 12.337,-65.009 12.383,-65.202 C12.465,-65.544 12.524,-65.902 12.516,-66.254 C12.504,-66.836 12.377,-67.229 12.124,-67.741 C11.764,-68.473 11.049,-68.992 10.284,-69.229 C9.803,-69.377 9.187,-69.352 8.709,-69.219 C8.136,-69.06 7.798,-68.801 7.347,-68.431 C7.136,-68.257 6.95,-68.052 6.778,-67.84 C6.494,-67.491 6.205,-67.128 5.978,-66.736 C5.611,-66.102 5.318,-65.388 5.172,-64.668 C5.13,-64.463 4.882,-63.503 4.806,-63.227 C3.794,-59.543 2.635,-58.674 -0.766,-60.318 C-2.528,-61.169 -4.177,-62.715 -5.318,-64.37 L-5.43,-64.647 C-5.551,-64.819 -6.039,-65.918 -6.164,-66.416 C-6.189,-67.2 -5.902,-68.108 -4.879,-68.245 C-4.716,-68.247 -4.554,-68.239 -4.391,-68.244 C-3.416,-68.271 -2.382,-68.276 -1.523,-68.805 C-0.471,-69.453 0.224,-70.736 0.095,-71.984 C0.065,-72.274 0.016,-72.544 -0.051,-72.808 C-0.169,-73.745 -0.862,-74.585 -1.32,-75.455 C-2.154,-77.041 -2.207,-78.977 -3.627,-80.291 C-4.171,-80.795 -4.928,-81.07 -5.651,-80.908 C-7.183,-80.564 -7.347,-78.901 -7.998,-77.685 C-9.754,-74.399 -14.558,-74.312 -17.902,-74.8 C-18.074,-75.028 -18.238,-75.263 -18.408,-75.456 C-19.291,-76.457 -20.356,-77.303 -21.624,-77.755 C-23.939,-78.58 -26.623,-78.138 -29.105,-77.747 C-29.342,-77.768 -29.579,-77.796 -29.815,-77.822 C-30.887,-77.982 -31.946,-78.206 -32.989,-78.502 C-33.896,-78.948 -34.793,-79.42 -35.688,-79.884 C-39.008,-81.606 -42.378,-83.015 -46.181,-83.027 C-48.309,-83.033 -50.435,-82.689 -52.515,-82.272 C-54.105,-81.953 -56.126,-81.734 -57.346,-80.528 C-58.478,-79.411 -58.187,-77.927 -57.042,-76.966 C-56.384,-76.414 -55.62,-76.239 -55.732,-75.226 C-55.738,-75.17 -55.763,-75.123 -55.772,-75.069 C-56.323,-73.792 -57.342,-72.898 -58.425,-72.079 C-58.65,-71.909 -58.995,-71.541 -59.322,-71.23 C-60.038,-70.401 -60.663,-69.452 -61.22,-68.535 C-61.561,-67.975 -62.051,-67.34 -62.211,-66.449 C-62.339,-65.735 -62.382,-64.969 -62.149,-64.266 C-62.023,-63.888 -61.816,-63.58 -61.588,-63.259 C-61.38,-62.967 -61.218,-62.653 -61.059,-62.334 C-60.734,-61.682 -60.384,-61.061 -59.767,-60.643 C-59.627,-60.548 -58.913,-60.094 -58.618,-60.093 C-56.218,-60.089 -55.835,-61.732 -53.407,-61.778 C-50.882,-61.826 -48.245,-59.589 -47.669,-57.2 C-47.334,-55.812 -47.509,-54.358 -47.686,-52.941 C-48.391,-47.286 -48.712,-42.116 -48.814,-36.407 L-48.799,-36.145 C-48.818,-34.934 -48.819,-33.718 -48.801,-32.449 C-48.756,-29.231 -47.973,-26.021 -47.495,-22.811 C-47.434,-22.408 -47.255,-22.016 -47.094,-21.635 C-46.071,-19.233 -44.249,-18.128 -42.26,-18.69 C-40.128,-19.293 -39.329,-21.189 -39.811,-23.952 C-40.407,-27.369 -40.847,-30.813 -41.41,-34.627 C-40.76,-34.228 -40.544,-34.174 -40.51,-34.063 C-39.309,-30.183 -37.884,-26.351 -37.004,-22.398 C-35.892,-17.408 -32.857,-14.209 -28.607,-11.806 C-27.318,-11.077 -26.042,-10.212 -25.011,-9.165 C-22.505,-6.623 -19.416,-5.249 -16.044,-4.519 C-14.6,-4.206 -13.398,-3.783 -12.328,-2.737 C-11.698,-2.122 -10.719,-1.882 -9.984,-1.353 C-9.49,-0.998 -8.872,-0.48 -8.784,0.044 C-8.063,4.314 -5.182,6.361 -1.392,7.662 C3.088,9.199 3.118,9.277 1.28,13.627 C-0.457,17.737 -1.374,21.851 -1.282,26.001 L-1.296,26.115 C-1.258,29.27 -0.773,32.397 0.571,35.586 C3.412,42.322 9.168,43.549 10.583,47.323 C11.419,49.552 10.982,55.48 11.198,57.852 C11.229,58.604 11.673,66.022 12.114,68.152 C12.837,71.643 14.449,75.655 16.841,78.305 C17.884,79.461 19.324,80.675 20.68,81.441 C21.489,81.897 24.573,83.033 25.464,82.599 C25.608,82.528 25.732,82.451 25.836,82.369 C27.085,81.382 25.722,79.557 25.267,78.173 C24.309,75.256 25.733,72.113 27.394,69.531 C30.776,64.269 35.272,59.78 38.528,54.438 C40.047,51.947 41.908,49.734 44.181,46.717 C46.604,43.502 49.683,42.326 52.823,37.704 C56.801,31.849 62.382,26.272 55.816,21.752 C55.798,21.739 55.66,21.542 55.64,21.532z M23.656,-64.631 C23.656,-64.631 23.656,-64.631 23.656,-64.631 C23.656,-64.669 23.656,-64.678 23.656,-64.631z"
          />
        </g>
      </g>
    </>
  );
}

// Wireframe globe overlay (full circle)
function GlobeWireframe() {
  return (
    <svg
      aria-hidden="true"
      className="w-full h-full pointer-events-none"
      viewBox="0 0 801 801"
      fill="none"
    >
      {/* Longitude lines (vertical arcs) */}
      <path
        d="M400.5 800.5C506.587 800.5 608.328 758.357 683.343 683.343C758.357 608.328 800.5 506.587 800.5 400.5C800.5 294.413 758.357 192.672 683.343 117.657C608.328 42.6427 506.587 0.5 400.5 0.5"
        className="stroke-border"
        strokeWidth={0.5}
        vectorEffect="non-scaling-stroke"
      />
      <path
        d="M400.5 800.5C471.224 800.5 539.052 758.357 589.062 683.343C639.072 608.328 667.167 506.587 667.167 400.5C667.167 294.413 639.072 192.672 589.062 117.657C539.052 42.6427 471.224 0.5 400.5 0.5"
        className="stroke-border"
        strokeWidth={0.5}
        vectorEffect="non-scaling-stroke"
      />
      <path
        d="M400.5 800.5C435.862 800.5 469.776 758.357 494.781 683.343C519.785 608.328 533.833 506.587 533.833 400.5C533.833 294.413 519.785 192.672 494.781 117.657C469.776 42.6427 435.862 0.5 400.5 0.5"
        className="stroke-border"
        strokeWidth={0.5}
        vectorEffect="non-scaling-stroke"
      />
      <path d="M400.5 800.5V0.5" className="stroke-border" strokeWidth={0.5} />
      <path
        d="M400.501 0.5C365.139 0.5 331.225 42.6427 306.22 117.657C281.216 192.672 267.168 294.413 267.168 400.5C267.168 506.587 281.216 608.328 306.22 683.343C331.225 758.357 365.139 800.5 400.501 800.5"
        className="stroke-border"
        strokeWidth={0.5}
        vectorEffect="non-scaling-stroke"
      />
      <path
        d="M400.499 0.5C329.775 0.5 261.947 42.6427 211.937 117.657C161.927 192.672 133.832 294.413 133.832 400.5C133.832 506.587 161.927 608.328 211.937 683.343C261.947 758.357 329.775 800.5 400.499 800.5"
        className="stroke-border"
        strokeWidth={0.5}
        vectorEffect="non-scaling-stroke"
      />
      <path
        d="M400.5 0.5C294.413 0.5 192.672 42.6427 117.657 117.657C42.6427 192.672 0.5 294.413 0.5 400.5C0.5 506.587 42.6427 608.328 117.657 683.343C192.672 758.357 294.413 800.5 400.5 800.5"
        className="stroke-border"
        strokeWidth={0.5}
        vectorEffect="non-scaling-stroke"
      />
      {/* Latitude lines (horizontal) */}
      <path
        d="M179.391 67.167H621.608"
        className="stroke-border"
        strokeWidth={0.5}
        vectorEffect="non-scaling-stroke"
      />
      <path
        d="M54.0898 200.5H746.91"
        className="stroke-border"
        strokeWidth={0.5}
        vectorEffect="non-scaling-stroke"
      />
      <path
        d="M23.375 267.167H777.622"
        className="stroke-border"
        strokeWidth={0.5}
        vectorEffect="non-scaling-stroke"
      />
      <path
        d="M6.09375 333.833H794.905"
        className="stroke-border"
        strokeWidth={0.5}
        vectorEffect="non-scaling-stroke"
      />
      <path d="M0.5 400.5H800.5" className="stroke-border" strokeWidth={0.5} />
      <path
        d="M6.09375 467.167H794.905"
        className="stroke-border"
        strokeWidth={0.5}
        vectorEffect="non-scaling-stroke"
      />
      <path
        d="M23.375 533.833H777.622"
        className="stroke-border"
        strokeWidth={0.5}
        vectorEffect="non-scaling-stroke"
      />
      <path
        d="M54.0898 600.5H746.91"
        className="stroke-border"
        strokeWidth={0.5}
        vectorEffect="non-scaling-stroke"
      />
      <path
        d="M179.391 733.833H621.608"
        className="stroke-border"
        strokeWidth={0.5}
        vectorEffect="non-scaling-stroke"
      />
    </svg>
  );
}

// Globe container with Lottie earth and wireframe overlay
function GlobeWithMap() {
  return (
    // Outer container - aspect ratio matches Lottie viewBox (119×120 ≈ 1:1)
    <div
      className="relative w-full overflow-hidden"
      style={{ aspectRatio: "12 / 8" }}
    >
      {/* Wireframe SVG - beneath earth */}
      <div className="absolute w-full aspect-square top-1/2 -translate-y-1/2 pointer-events-none">
        <GlobeWireframe />
      </div>

      {/* Earth Container with members - on top */}
      <div className="absolute z-10 w-full aspect-square top-1/2 -translate-y-1/2 rounded-full overflow-hidden">
        <AnimatedLottieEarth />
      </div>
    </div>
  );
}

export function AboutTeamMap() {
  return (
    <section className="my-[4.375rem] desktop:my-24 cinema:my-32">
      {/* Header */}
      <GridRoot size="normal">
        <div className="desktop:grid desktop:grid-cols-[5fr_16fr_5fr] desktop:gap-0">
          <span className="block text-sm leading-none tracking-[-0.03em] text-muted-foreground font-light mb-3 desktop:mb-0">
            Team
          </span>
          <div>
            <h2 className="text-[20px] desktop:text-2xl leading-normal desktop:leading-tight tracking-[-0.06em] font-[520] text-foreground">
              A global team
            </h2>
            <p className="text-[20px] desktop:text-2xl leading-normal desktop:leading-tight tracking-[-0.06em] font-normal text-muted-foreground">
              building the future of services.
            </p>
          </div>
        </div>
      </GridRoot>

      {/* Top HR */}
      <hr className="border-0 h-[0.5px] bg-border w-full mt-8" />

      {/* Globe with map */}
      <GridRoot size="normal">
        <div className="desktop:w-[calc(21/26*100%)] mx-auto">
          <GlobeWithMap />
        </div>
      </GridRoot>

      {/* Bottom HR */}
      <hr className="border-0 h-[0.5px] bg-border w-full" />
    </section>
  );
}
